= ClerkPro - User Guide
:site-section: UserGuide
:toc:
:toc-title:
:toc-placement: preamble
:sectnums:
:imagesDir: images
:stylesDir: stylesheets
:xrefstyle: full
:experimental:
ifdef::env-github[]
:tip-caption: :bulb:
:note-caption: :information_source:
endif::[]
:repoURL: https://github.com/AY1920S1-CS2103T-T09-3/main

By: `T09-3`      Since: `Sep 2019`      Licence: `MIT`

== Introduction

This program is targeted at clerks working in small clinics. It is designed for those who prefer to work with a Command Line Interface (CLI). It allows clerks to manage appointments, staff's duty roster, inventories and queues. Typing fast allows you to complete your tasks much faster than GUI apps.

== Quick Start

.  Ensure you have Java `11` or above installed in your Computer.
.  Download the latest `clerkPro.jar` link:{repoURL}/releases[here].
.  Copy the file to the folder you want to use as the home folder for ClerkPro.
.  Double-click the file to start the app. The GUI should appear in a few seconds.
+
image::Ui.png[width="790"]
+
. You may navigate through the entire UI with kbd:[UP], kbd:[DOWN], kbd:[LEFT], kbd:[RIGHT] and kbd:[TAB].
. The figure below shows the layout.
+
image::Layout.PNG[width="790"]
+
. Type the command in the command box and press kbd:[Enter] to execute it. +
e.g. typing *`help`* and pressing kbd:[Enter] will open the help window. Alternatively, just press kbd:[F1].
.  Some example commands you can try:


* `register -id 001A -name John Doe -phone 98765432 -email johnd@example.com -address John street, block 123, #01-01` : registers a patient named `John Doe`.
* `enqueue 001A` : enqueues patient with reference id `001A` into the queue. The patient `001A` must be registered.
* *`exit`* : exits the app.

.  Refer to <<Features>> for details of each command.

[[Features]]

== Features

====
*AutoComplete & History*

* When the command box is blank, kbd:[UP] & kbd:[DOWN] will auto-fill the command box with commands previously entered. kbd:[UP] gives older commands and kbd:[DOWN] gives newer commands.

* When the command box is not blank, AutoComplete will come into action and tries to suggest commands that are available for whatever that has been typed. During which, you may traverse your selection of the suggestions via kbd:[UP] & kbd:[DOWN] then press kbd:[ENTER] to confirm selection.

====
====
*Command Format*

* Words in `<UPPER_CASE>` are the parameters to be supplied by the user e.g. in `register -name <NAME>`, `NAME` is a parameter which can be used as `register -name John Doe`.
* Items in square brackets are optional e.g `-name <NAME> [-tag <TAG>]` can be used as `-name John Doe -tag friend` or as `-name John Doe`.
* Items with `…`​ after them can be used multiple times including zero times e.g. `[-tag <TAG>]...` can be used as `{nbsp}` (i.e. 0 times), `-tag friend`, `-tag friend -tag family` etc.
* Parameters can be in any order e.g. if the command specifies `-name <NAME> -phone <PHONE_NUMBER>`, `p/<PHONE_NUMBER> n/<NAME>` is also acceptable.
* A Reference Id refers to an string of alphanumeric characters that can be used to uniquely identifies a person, such as a membership number or NRIC.
A `<PATIENT_REFERENCE_ID>` refers to the reference id which belongs to a patient. Whereas, a `<STAFF_REFERENCE_ID>` refers to the reference id of a staff doctor.
Words in `<UPPER_CASE>` are the parameters to be supplied by the user e.g. in `register -name <NAME>`, `NAME` is a parameter which can be used as `register -name John Doe`.

====

IMPORTANT: All timings are based on the system's clock.

=== Patient Management

==== Searches patient by arguments: `patient` ====

Filters patients whose reference ids, names or phone numbers contains the given keyword. +
If no search keyword is provided, all registered patients will be displayed. +

Format: `patient [<SEARCH_KEYWORD>]`

==== Registers a new patient: `register` ====

Registers a new patient. Only patient's reference id and name is compulsory fields +

Format:  `register -id <PATIENT_REFERENCE_ID> -name <PATIENT_NAME> [-phone <PHONE_NUM>]
 [-email <EMAIL>] [-address <ADDRESS>] [-tag <Tags>]...`

==== Updates patients’ profiles: `edit` ====

Updates the particulars of a patients +
NOTE: Must be in the patient listing screen for this command to be accepted. +
IMPORTANT: Editing tags will overwrite all existing tags+

Format: `edit <ENTRY_ID> [-id <PATIENT_REFERENCE_ID>] [-name <NAME>] [-phone <PHONE_NUM>]
 [-email <EMAIL>] [-address <ADDRESS>] [-tag <Tags>]...`


=== Staff Personal Management ===

==== Views doctors: `doctors` ====

Finds staff doctors whose reference ids, names or phone numbers contains the given keyword. +
If no search keyword is provided, all registered doctors will be displayed. +

Format: `doctors [<SEARCH_KEYWORD>]`

==== Registers a new doctor: `newdoctor` ====

Registers a new doctor. +
If the staff reference identifier is not specified, a unique identifier will be assigned by the system.

Format: `newdoctor -id <STAFF_REFERENCE_ID> -name <NAME> [-phone <PHONE_NUM>]
 [-email <EMAIL>] [-address <ADDRESS>] [-tag <TAGS>]...`

==== Updates a doctor's profile: `updatedoctor` ====

If user is in the doctors listing screen, updates any change for doctor’s profiles. +

Format: `updatedoctor <ENTRY_ID> [-id <STAFF_REFERENCE_ID>] [-name <NAME>] [-phone <PHONE_NUM>]
[-email <EMAIL>] [-address <ADDRESS>] [-tag <Tags>]...`

==== Marks the doctor as on-duty: `onduty` ====

Marks the doctor, based on the index given, as on-duty and assigns him/her to an consultation room list. +

Format: `onduty <ENTRY_ID>`

==== Marks the doctor as off-duty: `offduty` ====

Marks the doctor, based on the index given, as off-duty and removes him/her from the list based on the index given. +

Format: `offduty <ENTRY_ID>`


=== Queue Management

==== Adds a patient to the queue: `enqueue` ====

Adds a patient to the queue based based on the patient's Id. The enqueued patient must be a registered. Staff members cannot be enqueued. +

Format: `enqueue <PATIENT_REFERENCE_ID>` +

==== Removes a patient from the queue: `dequeue` ====

Removes a patient from the queue based on their queue position. +

Format: `dequeue <QUEUE_INDEX>`

==== Assigns next patient to an available doctor : `next` ====
//todo add doctor first

Assigns the next patient in the queue to a doctor based on the consultation room number. +

Format: `next <ROOM_NUMBER>`

==== Doctor takes a break: `break`  ====

Avoids directing patients to a doctor based on the room number. e.g. Doctor is on a lunch break +

Format: `break <ROOM_NUMBER>`

==== Doctor resumes his/her duty: `resume` ====

Allows patients to be directed to a doctor based on the room number. +

Format: `resume <ROOM_NUMBER>`


=== Appointment Management

==== Displays appointments: `appointments` ====

Displays a sorted list of upcoming appointments for the patient that is associated to the given `REFERENCE_ID`.
If no keyword is given, all upcoming appointments will be displayed. +
Format: `appointments [<REFERENCE_ID>]`

==== Schedules an appointment: `addappt` ====

Schedules a new appointments for a patient. +
NOTE: The appointment will be rejected by the system, if there are insufficient staff doctors on duty at the time of the appointment. +
e.g. Cannot schedule more appointments than available doctors on duty.

If both `-rec <INTERVALS>` and `-num <NUMBER_OF_TIMES>` fields are present, appointments of these `<NUMBER_OF_TIMES>` will be added to the patient
appointment schedule in `<INTERVALS>`. Otherwise, only one event will be added. +

If the optional field `[-end <END_TIMING>]` is absent, default end timing is 30 mins after start timing of the appointment. Otherwise, end Timing will be `[-end <END_TIMING>]`. +

The optional field `[-rec <INTERVALS>]` can be `-rec w`, `-rec m`, or `-rec y`.They represent to add weekly, monthly, yearly repeat appointment respectively.

Format: `addappt -id <REFERENCE_ID> -start <START_TIMING> [-end <END_TIMING>] [-rec <INTERVALS> -num <NUMBER_OF_TIMES>]`

==== Acknowledges a appointment: `ackappt` ====

Acknowledges an existing appointment once the patient has arrived +
Format: `ackappt -id <REFERENCE_ID>`

==== Cancels an appointment: `cancelappt` ====
Cancels the specified appointment. +

NOTE: To avoid accidental cancellation of another patient's appointments, the user must first narrow down the search to a single patient using the `appointments [<REFERENCE_ID>]` command. +

Format: `cancelappt <ENTRY_ID>`

==== Changes the appointment date: `changeappt` ====

Changes the timing for an existing appointment. +
If no optional fields `[-end <END_TIMING>]` is present, default endTiming is 30 mins after startTiming. Otherwise new endTiming will be `[-end <END_TIMING>]`. +

NOTE: To avoid accidental rescheduling of another patient's appointments, the user must first narrow down the search to a single patient using the `appointments [<REFERENCE_ID>]` command. +

NOTE: The operation is rejected if there are insufficient staff doctors on duty at the time of the new appointment. +

Format: `changeappt <ENTRY_ID> -start <START_TIMING> [-end <END_TIMING>]`

==== Displays patients who have missed their appointments: `missappt` ====

Displays all appointments that are missed. +

NOTE: An appointment is considered missed if the appointment was not acknowledged and the current time has passed the appointment's end time.


Format: `missappt`

==== Sets missed appointments as settled/notified: `settle` ====

Settles and removes the missed appointment based on the given index. +
Settling refers to the user following up on contacting the patient who has missed his/her appointment. +

NOTE: Only missed appointments can be settled. The user must first display the missed appointment listing, using `missappt`, before using this command. +

Format: `settle <ENTRY_ID>`

==== Shows the empty slots: `slot` (v2.0) ====

List all the available empty slots for patients to make appointments +

Format: `slot -start <START_DATE>`

=== Duty-shift Management

==== Displays duty shifts: `shift` ====

Displays a sorted list of upcoming duty shifts for the staff doctors that is associated to the given `REFERENCE_ID`.
If no keyword is given, all upcoming appointments will be displayed. +

Format: `shift [<REFERENCE_ID>]`

==== Adds a duty shift for a doctor: `addshift` ====

Adds a new duty shift for a doctor. +
If both -rec <INTERVALS> and -num <NUMBER_OF_TIMES> fields are present, duty shifts of these <NUMBER_OF_TIMES> will be added to the doctor duty roster in <INTERVALS>.
Otherwise, only one shift will be added. +

Format: `addshift -id STAFF_REFERENCE_ID -start <START_TIMING> -end <END_TIMING> [-rec REPEATEDLY -num REPEATED_TIMES]`

==== Cancels a duty shift for a doctor: `cancelshift` ====

Cancels the specified duty shift for a doctor based on the given entry index. +

NOTE: To avoid accidental cancellation of another doctor's shift, the user must first narrow down the search to a single doctor using the `shift [<REFERENCE_ID>]` command. +

NOTE: The operation is rejected if it results in there being more appointments than staff doctors on duty at any given point in time. The appointments affected by the deletion of the duty shift must be resolved first. +

Format: `cancelshift <ENTRY_ID>`

==== Changes the duty shift for a doctor: `changeshift` ====

Changes the timing of an existing duty shift based on the given entry index.  +

NOTE: To avoid accidental cancellation of another doctor's shift, the user must first narrow down the search to a single doctor using the `shift [<REFERENCE_ID>]` command. +

NOTE: The operation is rejected if it results in there being more appointments than staff doctors on duty at any given point in time. +

The patient's appointment affected by the deletion of the duty shift must be resolved first. +

Format: `changeshift <ENTRY_ID> -start <START_TIMING> -end <END_TIMING>`

=== Inventory Commands (v2.0) ===

==== Views the inventory: `inventory` (v2.0) ====

Displays the medicine inventory. +

Format: `inventory`

==== Views the inventory: `prescription` (v2.0) ====

Displays the prescription. A prescription is a list of medications prescribed by the doctor. +

Format: `prescription <PRESCRIPTION_ID | PRESCRIPTION_NAME>`

=== User Accounts (v2.0) ===

==== Login: `login` (v2.0) ====

Login with your username and password. The user will then be prompted to enter their password. +

Format: `login <USER_NAME>`

==== Logout: `logout` (v2.0) ====

Logout from your account +

Format: `logout`

=== General Commands ===

==== Views help: `help` ====

Displays the help window. +

Format: `help`

==== Exits program: `exit` ====

Exits the program. +

Format: `exit`

==== Undo action: `undo` ====

Undo an action. +

Format: `undo`

==== Redo action: `redo` ====

Redo an action. +

Format: `redo`

== Commands Summary ==

* *Queue Management* +
** enqueue: `enqueue <PATIENT_REFERENCE_ID>`
** dequeue: `dequeue <QUEUE_NUMBER>`
** next: `next <ROOM_NUMBER>`
** break: `break <ROOM_NUMBER>`
** resume: `resume <ROOM_NUMBER>`

* *Patient Management* +
** patient: `patient [<PATIENT_REFERENCE_ID | PATIENT_NAME | PHONE_NUM>]`
** register: `register -id <PATIENT_REFERENCE_ID> -name <PATIENT_NAME> [-phone <PHONE_NUM>]
 [-email <EMAIL>] [-address <ADDRESS>] -num [-tag Allergies]...`
** unregister: `unregister <ENTRY_ID>`
** update: `update <ENTRY_ID> [-name <PATIENT_NAME>] [-id <PATIENT_REFERENCE_ID>] [-phone <PHONE_NUM>]
 [-email <EMAIL>] [-address <ADDRESS>] -num [-tag Allergies]...`

* *On-Duty Doctors Management* +
** doctors: `doctors [<DOCTOR_NAME>]`
** newdoctor: `newdoctor -name <STAFF_NAME> [-id <STAFF_REFERENCE_ID>] [-phone <PHONE_NUM>] [-email <EMAIL>] [-address <ADDRESS>]-num`
** updatedoctor: `updatedoctor <ENTRY_ID> [-name <STAFF_NAME>]
[-id <STAFF_REFERENCE_ID>] [-phone <PHONE_NUM>] [-email <EMAIL>] [-address <ADDRESS>]-num`
** resigndoctor: `resigndoctor <ENTRY_ID>`
** onduty: `onduty <ROOM_NUMBER>`
** offduty: `offduty <ENTRY_ID>`

* *Appointment Management* +
** addappt: `appointments [-phone <PATIENT_NAME | PATIENT_IC>] [-rec REPEATEDLY] [-num TIMES]`
** ackappt: `appointments [-phone <PATIENT_NAME | PATIENT_IC>]`
** appointments: `appointments [-phone <PATIENT_NAME | PATIENT_IC>]`
** cancelappt: `cancelappt <ENTRY_ID>`
** changeappt: `changeappt <ENTRY_ID> [-start <START_TIMING>]`
** missappt: `missappt`
** settle: `settle <ENTRY_ID>`

* *Duty-shift Management* +
** addshift: `addshift [-id STAFF_REFERENCE_ID] -start <START_TIMING> [-rec REPEATEDLY] [-num REPEATED_TIMES]`
** cancelshift: `cancelshift <ENTRY_ID>`
** changeshift: `changeshift <ENTRY_ID> [-start <START_TIMING>]`

* *Inventory commands (v2.0)* +
** inventory: `inventory`
** prescription: `prescription <PRESCRIPTION_ID | PRESCRIPTION_NAME>`

* *User Accounts (v2.0)* +
** login: `login <USER_NAME>`
** logout: `logout`

* *General Commands* +
** help: `help`
** exit: `exit`
** undo: `undo`
** redo: `redo`

